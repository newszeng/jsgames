import{R as T}from"./chunk-NISHYRIK-jpzqUR05.js";const V=e=>{let t;const n=new Set,r=(_,u)=>{const m=typeof _=="function"?_(t):_;if(!Object.is(m,t)){const v=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,v))}},o=()=>t,s={setState:r,getState:o,getInitialState:()=>l,subscribe:_=>(n.add(_),()=>n.delete(_))},l=t=e(r,o,s);return s},me=(e=>e?V(e):V),he=e=>e;function ve(e,t=he){const n=T.useSyncExternalStore(e.subscribe,T.useCallback(()=>t(e.getState()),[e,t]),T.useCallback(()=>t(e.getInitialState()),[e,t]));return T.useDebugValue(n),n}const ee=e=>{const t=me(e),n=r=>ve(t,r);return Object.assign(n,t),n},Se=(e=>e?ee(e):ee),te={BASE_URL:"/szarada/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_AXIOM_DATASET:"lamaniec",VITE_AXIOM_TOKEN:"xaat-e4281eae-06f0-41df-8715-72ee80b46a89"},A=new Map,D=e=>{const t=A.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},pe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=A.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return A.set(n.name,o),{type:"tracked",store:e,...o}},ge=(e,t)=>{if(t===void 0)return;const n=A.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&A.delete(e))},be=e=>{var t,n;if(!e)return;const r=e.split(`
`),o=r.findIndex(a=>a.includes("api.setState"));if(o<0)return;const i=((t=r[o+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},Pe=(e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:a,store:s,...l}=t;let _;try{_=(i??(te?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!_)return e(n,r,o);const{connection:u,...m}=pe(s,_,l);let v=!0;o.setState=((c,h,f)=>{const d=n(c,h);if(!v)return d;const S=f===void 0?{type:a||be(new Error().stack)||"anonymous"}:typeof f=="string"?{type:f}:f;return s===void 0?(u==null||u.send(S,r()),d):(u==null||u.send({...S,type:`${s}/${S.type}`},{...D(l.name),[s]:o.getState()}),d)}),o.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),ge(l.name,s)}};const y=(...c)=>{const h=v;v=!1,n(...c),v=h},b=e(o.setState,r,o);if(m.type==="untracked"?u==null||u.init(b):(m.stores[m.store]=o,u==null||u.init(Object.fromEntries(Object.entries(m.stores).map(([c,h])=>[c,c===m.store?b:h.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let c=!1;const h=o.dispatch;o.dispatch=(...f)=>{(te?"production":void 0)!=="production"&&f[0].type==="__setState"&&!c&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),c=!0),h(...f)}}return u.subscribe(c=>{var h;switch(c.type){case"ACTION":if(typeof c.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return U(c.payload,f=>{if(f.type==="__setState"){if(s===void 0){y(f.state);return}Object.keys(f.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const d=f.state[s];if(d==null)return;JSON.stringify(o.getState())!==JSON.stringify(d)&&y(d);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(f)});case"DISPATCH":switch(c.payload.type){case"RESET":return y(b),s===void 0?u==null?void 0:u.init(o.getState()):u==null?void 0:u.init(D(l.name));case"COMMIT":if(s===void 0){u==null||u.init(o.getState());return}return u==null?void 0:u.init(D(l.name));case"ROLLBACK":return U(c.state,f=>{if(s===void 0){y(f),u==null||u.init(o.getState());return}y(f[s]),u==null||u.init(D(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return U(c.state,f=>{if(s===void 0){y(f);return}JSON.stringify(o.getState())!==JSON.stringify(f[s])&&y(f[s])});case"IMPORT_STATE":{const{nextLiftedState:f}=c.payload,d=(h=f.computedStates.slice(-1)[0])==null?void 0:h.state;if(!d)return;y(s===void 0?d:d[s]),u==null||u.send(null,f);return}case"PAUSE_RECORDING":return v=!v}return}}),b},Oe=Pe,U=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},we=e=>(t,n,r)=>{const o=r.subscribe;return r.subscribe=((a,s,l)=>{let _=a;if(s){const u=(l==null?void 0:l.equalityFn)||Object.is;let m=a(r.getState());_=v=>{const y=a(v);if(!u(m,y)){const b=m;s(m=y,b)}},l!=null&&l.fireImmediately&&s(m,m)}return o(_)}),e(t,n,r)},We=we;function Ie(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),s=(i=n.getItem(o))!=null?i:null;return s instanceof Promise?s.then(a):a(s)},setItem:(o,i)=>n.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>n.removeItem(o)}}const K=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return K(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return K(r)(n)}}}},Ee=(e,t)=>(n,r,o)=>{let i={storage:Ie(()=>localStorage),partialize:c=>c,version:0,merge:(c,h)=>({...h,...c}),...t},a=!1;const s=new Set,l=new Set;let _=i.storage;if(!_)return e((...c)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...c)},r,o);const u=()=>{const c=i.partialize({...r()});return _.setItem(i.name,{state:c,version:i.version})},m=o.setState;o.setState=(c,h)=>(m(c,h),u());const v=e((...c)=>(n(...c),u()),r,o);o.getInitialState=()=>v;let y;const b=()=>{var c,h;if(!_)return;a=!1,s.forEach(d=>{var S;return d((S=r())!=null?S:v)});const f=((h=i.onRehydrateStorage)==null?void 0:h.call(i,(c=r())!=null?c:v))||void 0;return K(_.getItem.bind(_))(i.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate){const S=i.migrate(d.state,d.version);return S instanceof Promise?S.then(J=>[!0,J]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var S;const[J,ye]=d;if(y=i.merge(ye,(S=r())!=null?S:v),n(y,!0),J)return u()}).then(()=>{f==null||f(y,void 0),y=r(),a=!0,l.forEach(d=>d(y))}).catch(d=>{f==null||f(void 0,d)})};return o.persist={setOptions:c=>{i={...i,...c},c.storage&&(_=c.storage)},clearStorage:()=>{_==null||_.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:c=>(s.add(c),()=>{s.delete(c)}),onFinishHydration:c=>(l.add(c),()=>{l.delete(c)})},i.skipHydration||b(),y||v},Ke=Ee;var ce=Symbol.for("immer-nothing"),ne=Symbol.for("immer-draftable"),p=Symbol.for("immer-state");function g(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var I=Object.getPrototypeOf;function E(e){return!!e&&!!e[p]}function O(e){var t;return e?ae(e)||Array.isArray(e)||!!e[ne]||!!((t=e.constructor)!=null&&t[ne])||F(e)||x(e):!1}var Ae=Object.prototype.constructor.toString();function ae(e){if(!e||typeof e!="object")return!1;const t=I(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ae}function k(e,t){j(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function j(e){const t=e[p];return t?t.type_:Array.isArray(e)?1:F(e)?2:x(e)?3:0}function $(e,t){return j(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ue(e,t,n){const r=j(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ze(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function F(e){return e instanceof Map}function x(e){return e instanceof Set}function P(e){return e.copy_||e.base_}function B(e,t){if(F(e))return new Map(e);if(x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ae(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[p];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const a=o[i],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(I(e),r)}else{const r=I(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Y(e,t=!1){return L(e)||E(e)||!O(e)||(j(e)>1&&Object.defineProperties(e,{set:{value:R},add:{value:R},clear:{value:R},delete:{value:R}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Y(n,!0))),e}function R(){g(2)}function L(e){return Object.isFrozen(e)}var Ce={};function w(e){const t=Ce[e];return t||g(0,e),t}var z;function le(){return z}function Fe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function re(e,t){t&&(w("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X(e){q(e),e.drafts_.forEach(Te),e.drafts_=null}function q(e){e===z&&(z=e.parent_)}function oe(e){return z=Fe(z,e)}function Te(e){const t=e[p];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ie(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[p].modified_&&(X(t),g(4)),O(e)&&(e=N(t,e),t.parent_||M(t,e)),t.patches_&&w("Patches").generateReplacementPatches_(n[p].base_,e,t.patches_,t.inversePatches_)):e=N(t,n,[]),X(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ce?e:void 0}function N(e,t,n){if(L(t))return t;const r=t[p];if(!r)return k(t,(o,i)=>se(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return M(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,a=!1;r.type_===3&&(i=new Set(o),o.clear(),a=!0),k(i,(s,l)=>se(e,r,o,s,l,n,a)),M(e,o,!1),n&&e.patches_&&w("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function se(e,t,n,r,o,i,a){if(E(o)){const s=i&&t&&t.type_!==3&&!$(t.assigned_,r)?i.concat(r):void 0,l=N(e,o,s);if(ue(n,r,l),E(l))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(O(o)&&!L(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;N(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(F(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&M(e,o)}}function M(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y(t,n)}function De(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:le(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Z;n&&(o=[r],i=C);const{revoke:a,proxy:s}=Proxy.revocable(o,i);return r.draft_=s,r.revoke_=a,s}var Z={get(e,t){if(t===p)return e;const n=P(e);if(!$(n,t))return Re(e,n,t);const r=n[t];return e.finalized_||!O(r)?r:r===H(e.base_,t)?(W(e),e.copy_[t]=Q(r,e)):r},has(e,t){return t in P(e)},ownKeys(e){return Reflect.ownKeys(P(e))},set(e,t,n){const r=fe(P(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=H(P(e),t),i=o==null?void 0:o[p];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ze(n,o)&&(n!==void 0||$(e.base_,t)))return!0;W(e),G(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return H(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,W(e),G(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=P(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){g(11)},getPrototypeOf(e){return I(e.base_)},setPrototypeOf(){g(12)}},C={};k(Z,(e,t)=>{C[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});C.deleteProperty=function(e,t){return C.set.call(this,e,t,void 0)};C.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};function H(e,t){const n=e[p];return(n?P(n):e)[t]}function Re(e,t,n){var o;const r=fe(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function fe(e,t){if(!(t in e))return;let n=I(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=I(n)}}function G(e){e.modified_||(e.modified_=!0,e.parent_&&G(e.parent_))}function W(e){e.copy_||(e.copy_=B(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ke=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const a=this;return function(l=i,..._){return a.produce(l,u=>n.call(this,u,..._))}}typeof n!="function"&&g(6),r!==void 0&&typeof r!="function"&&g(7);let o;if(O(t)){const i=oe(this),a=Q(t,void 0);let s=!0;try{o=n(a),s=!1}finally{s?X(i):q(i)}return re(i,r),ie(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===ce&&(o=void 0),this.autoFreeze_&&Y(o,!0),r){const i=[],a=[];w("Patches").generateReplacementPatches_(t,o,i,a),r(i,a)}return o}else g(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,o;return[this.produce(t,n,(a,s)=>{r=a,o=s}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){O(e)||g(8),E(e)&&(e=Ne(e));const t=oe(this),n=Q(e,void 0);return n[p].isManual_=!0,q(t),n}finishDraft(e,t){const n=e&&e[p];(!n||!n.isManual_)&&g(9);const{scope_:r}=n;return re(r,t),ie(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=w("Patches").applyPatches_;return E(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Q(e,t){const n=F(e)?w("MapSet").proxyMap_(e,t):x(e)?w("MapSet").proxySet_(e,t):De(e,t);return(t?t.scope_:le()).drafts_.push(n),n}function Ne(e){return E(e)||g(10,e),de(e)}function de(e){if(!O(e)||L(e))return e;const t=e[p];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=B(e,t.scope_.immer_.useStrictShallowCopy_)}else n=B(e,!0);return k(n,(r,o)=>{ue(n,r,de(o))}),t&&(t.finalized_=!1),n}var Me=new ke,je=Me.produce;const xe=e=>(t,n,r)=>(r.setState=(o,i,...a)=>{const s=typeof o=="function"?je(o):o;return t(s,i,...a)},e(r.setState,n,r)),Le=xe,Je={location:null,prevLocation:null},_e=Se()(Le(Oe(e=>({...Je})))),{setState:Ue}=_e,$e=()=>_e(e=>e.prevLocation),Be={saveLocation:e=>{Ue(t=>{var n,r;(e.pathname!==((n=t.location)==null?void 0:n.pathname)||e.search!==((r=t.location)==null?void 0:r.search))&&(t.prevLocation=t.location?t.location:e,t.location=e)})}};export{me as a,$e as b,Se as c,Oe as d,Le as i,Be as l,Ke as p,We as s,ve as u};
