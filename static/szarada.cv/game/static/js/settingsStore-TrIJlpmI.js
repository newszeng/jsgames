import{c as a,s as d,p as l,i as h}from"./locationStore-DrI_YTJV.js";const m=e=>{switch(e){case"normal":return"green";case"blind":return"blue";default:return"green"}},u={theme:"light",colorBlind:"normal",_hasHydrated:!1,setHasHydrated:()=>{}},g=typeof window<"u",f=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",i=e=>{const r=window.document.documentElement,s=e==="dark";r.classList.remove(s?"light":"dark"),r.classList.add(e)},o=a()(d(l(h(e=>({...u,setHasHydrated:r=>{e({_hasHydrated:r})}})),{name:"settingsStore",version:1,skipHydration:!0,onRehydrateStorage:()=>e=>{e!=null&&e.theme?i(e.theme):t.setTheme(f());const r=window.matchMedia("(prefers-color-scheme: dark)"),s=c=>{((e==null?void 0:e.theme)==="light"||(e==null?void 0:e.theme)==="dark")&&t.setTheme(c.matches?"dark":"light")};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)}}))),{setState:n}=o,t={setTheme:e=>{n(r=>{r.theme=e})},setColorBlind:e=>{n(r=>{r.colorBlind=e})}},y=()=>o(e=>e.theme),p=()=>o(e=>e.colorBlind),k=()=>{const e=p();return m(e)};g&&o.subscribe(e=>e.theme,e=>i(e));export{y as a,p as b,k as c,t as s,o as u};
