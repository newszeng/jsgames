import{a as t,p as a}from"./chunk-NISHYRIK-jpzqUR05.js";import{u as w}from"./useConsentAndAds-BAmfMKHS.js";function v({adSlot:b,adFormat:h="auto",className:m=""}){const{isAdSenseLoaded:p,hasGoogleConsent:x}=w(),[i,y]=t.useState(!0),r=t.useRef(null),o=t.useRef(!1),s=t.useRef(null),c=p&&x;return t.useEffect(()=>{if(!c||o.current)return;const g=setTimeout(()=>{try{window.adsbygoogle&&r.current&&(window.adsbygoogle.push({}),o.current=!0,r.current&&(s.current=new MutationObserver(e=>{e.forEach(u=>{var d,l;if(u.type==="attributes"&&u.attributeName==="data-ad-status"){const f=(d=r.current)==null?void 0:d.getAttribute("data-ad-status");(f==="filled"||f==="unfilled")&&(y(!1),(l=s.current)==null||l.disconnect())}})}),s.current.observe(r.current,{attributes:!0,attributeFilter:["data-ad-status"]})))}catch(e){console.error("Error initializing AdSense:",e)}},100);return()=>{var e;clearTimeout(g),(e=s.current)==null||e.disconnect()}},[c]),t.useEffect(()=>()=>{var n;(n=s.current)==null||n.disconnect()},[]),a.jsxs("div",{className:`relative flex w-full flex-row justify-center ${m}`,children:[i&&a.jsx("div",{className:"flex w-full items-center justify-center border-gray-200 border-t border-b bg-gray-50",style:{height:"280px"},children:a.jsx("span",{className:"font-medium text-gray-400 text-xs uppercase tracking-wider",children:"Reklama"})}),a.jsx("div",{className:`flex justify-center transition-opacity duration-300 ${i?"absolute inset-0 opacity-0":"opacity-100"}`,children:a.jsx("ins",{ref:r,className:"adsbygoogle",style:{display:"block",width:"100%"},"data-ad-client":"ca-pub-5963405007499349","data-ad-slot":b,"data-ad-format":h,"data-full-width-responsive":"true"})})]})}export{v as A};
